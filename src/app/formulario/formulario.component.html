<section>
  <h2 class="Titulo">Cadastro de Pessoas - Modal GR</h2>
  <form (ngSubmit)="enviarFormulario()" #formulario="ngForm">
    <label>Nome:</label>
    <input
      type="text"
      [(ngModel)]="form.nome"
      name="nome"
      required
      pattern="[A-Za-zÀ-ÿ\s]+"
      maxlength="150"
    />

    <label>CPF:</label>
    <input
      type="text"
      [(ngModel)]="form.cpf"
      name="cpf"
      required
      maxlength="14"
      (input)="validarCpf(); formatarCpf()"
    />

    <label>Data de Nascimento:</label>
    <input
      type="date"
      [(ngModel)]="form.dataNascimento"
      name="dataNascimento"
      required
      (blur)="validarDataNascimento()"
    />

    <label>E-mail:</label>
    <input
      type="email"
      [(ngModel)]="form.email"
      name="email"
      required
      maxlength="200"
      placeholder="exemplo@dominio.com"
      (blur)="validarEmail()"
    />

    <label>CEP:</label>
    <input
      type="text"
      [(ngModel)]="form.cep"
      name="cep"
      required
      (input)="formatarCep(); buscarCep()"
      maxlength="9"
    />

    <label>Logradouro:</label>
    <input
      type="text"
      [(ngModel)]="form.logradouro"
      name="logradouro"
      required
      readonly
    />

    <label>Bairro:</label>
    <input
      type="text"
      [(ngModel)]="form.bairro"
      name="bairro"
      required
      readonly
    />

    <label>Cidade:</label>
    <input
      type="text"
      [(ngModel)]="form.cidade"
      name="cidade"
      required
      readonly
    />

    <label>Estado:</label>
    <input
      type="text"
      [(ngModel)]="form.estado"
      name="estado"
      required
      readonly
    />

    <button type="submit" [disabled]="!formulario.valid">Cadastrar</button>
  </form>

  <div class="resultado" *ngIf="exibirResultado">
    <h3>Dados Enviados:</h3>
    <div *ngIf="carregarDadosDoStorage() as dados">
      <p><strong>Nome:</strong> {{ dados.nome }}</p>
      <p><strong>CPF:</strong> {{ dados.cpf }}</p>
      <p><strong>Data de Nascimento:</strong> {{ dados.dataNascimento }}</p>
      <p><strong>Idade:</strong> {{ dados.idade }}</p>
      <p><strong>Email:</strong> {{ dados.email }}</p>
      <p><strong>CEP:</strong> {{ dados.cep }}</p>
      <p><strong>Logradouro:</strong> {{ dados.logradouro }}</p>
      <p><strong>Bairro:</strong> {{ dados.bairro }}</p>
      <p><strong>Cidade:</strong> {{ dados.cidade }}</p>
      <p><strong>Estado:</strong> {{ dados.estado }}</p>
    </div>
  </div>
</section>
